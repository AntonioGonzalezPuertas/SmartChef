<ion-card class="recipe-card">
  <ion-card-header>
    <ion-card-title>{{ recipe.title }}</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    @for (category of recipe.categories; track category) {
    <ion-chip>
      <ion-label>{{ category }}</ion-label>
    </ion-chip>
    }

    <div class="section-title with-icon">
      <span>Photos</span>
    </div>

    <div class="photo-grid">
      <ion-img
        *ngFor="let photo of recipe.photos"
        [src]="photo"
        class="recipe-photo"
      ></ion-img>
    </div>

    <div class="info-row">
      <ion-icon name="time-outline"></ion-icon>
      <span>Cooking time</span>
      <span class="value">{{ recipe.cookingTime }} min</span>
    </div>

    <div class="info-row">
      <ion-icon name="cash-outline"></ion-icon>
      <span>Cost</span>
      <span class="value">${{ recipe.cost }}</span>
    </div>

    <div class="bottom-actions">
      <div class="icon-badge">
        <ion-icon name="play" (click)="showInstructions()"></ion-icon>
      </div>
      <div class="icon-badge">
        <ion-icon name="basket" (click)="showIngredients()"></ion-icon>

        @if (missingStock > 0) {
        <ion-badge color="danger">{{ missingStock }}</ion-badge>
        }
      </div>
      <div class="favorites">
        <ion-icon
          [name]="recipe.favorite ? 'star' : 'star-outline'"
          (click)="toggleFavorite()"
        ></ion-icon>
      </div>
    </div>
  </ion-card-content>
</ion-card>
