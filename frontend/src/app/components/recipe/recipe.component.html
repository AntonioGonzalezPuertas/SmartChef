<ion-card class="recipe-card">
  <ion-card-header>
    <ion-card-title>{{ recipe.title }}</ion-card-title>
  </ion-card-header>

  <ion-card-content>
    @for (category of recipe.categories; track category) {
    <ion-chip>
      <ion-label>{{ category }}</ion-label>
    </ion-chip>
    }

    <div class="section-title with-icon">
      <span>Photos</span>
    </div>

    <div class="photo-grid">
      <ion-img
        *ngFor="let photo of recipe.photos"
        [src]="photo"
        class="recipe-photo"
      ></ion-img>
    </div>

    <div class="info-row">
      <ion-icon name="time-outline"></ion-icon>
      <span>Cooking time</span>
      <span class="value">{{ recipe.cookingTime }} min</span>
    </div>

    <div class="info-row">
      <ion-icon name="cash-outline"></ion-icon>
      <span>Cost</span>
      <span class="value">${{ recipe.cost }}</span>
    </div>

    <div class="bottom-actions">
      <div class="icon-badge">
        <mat-icon (click)="$event.stopPropagation(); showInstructions()"
          >play_arrow</mat-icon
        >
      </div>
      <div class="icon-badge">
        <mat-icon (click)="$event.stopPropagation(); showIngredients()"
          >shopping_cart</mat-icon
        >

        @if (missingStock > 0) {
        <ion-badge color="danger">{{ missingStock }}</ion-badge>
        }
      </div>
      <div class="icon-badge">
        <mat-icon (click)="$event.stopPropagation(); schedule()"
          >insert_invitation</mat-icon
        >
      </div>
      <div class="icon-badge">
        <mat-icon
          class="favorite"
          (click)="$event.stopPropagation(); toggleFavorite()"
          >{{ recipe.favorite ? "star" : "star_outline" }}</mat-icon
        >
      </div>
    </div>
  </ion-card-content>
</ion-card>
